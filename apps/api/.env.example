# Application Configuration
APP_NAME=face-api
ENV=dev
HOST=0.0.0.0
PORT=8080

# JWT Configuration
JWT_ISSUER=face.local
JWT_AUDIENCE=face
JWT_PRIVATE_KEY=
JWT_PUBLIC_KEY=
API_KEY_SECRET=dev-secret

# Database Configuration (External PostgreSQL Server)
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=postgres
DB_NAME=facedb
# Alternative: Full DATABASE_URL override
# DATABASE_URL=postgresql+asyncpg://user:pass@host:port/dbname

# Milvus Configuration (External Milvus Server)
MILVUS_HOST=localhost
MILVUS_PORT=19530
MILVUS_COLLECTION=face_embeddings
# Optional: Authentication for Milvus
MILVUS_USER=
MILVUS_PASSWORD=
# Optional: Enable secure/TLS connection
MILVUS_SECURE=false

# MinIO Configuration (External MinIO Server)
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET_RAW=faces-raw
MINIO_BUCKET_DERIVED=faces-derived

# Application Settings
TENANT_HEADER=X-Tenant-ID
FACE_SIMILARITY_THRESHOLD=0.6
MAX_FACE_RESULTS=5
MAX_FACE_IMAGES=12

# Enhanced Face Cropping Configuration for API
API_MIN_FACE_SIZE=40  # Minimum face size in pixels for processing
API_CROP_MARGIN_PCT=0.15  # Margin around face as percentage (0.15 = 15%)
API_TARGET_SIZE=224  # Target output size for cropped faces in pixels
API_PRIMARY_FACE_STRATEGY=best_quality  # best_quality, largest, most_centered, highest_confidence
API_MAX_FACE_RATIO=0.6  # Maximum face-to-frame ratio before special large-face handling
API_PRESERVE_ASPECT=true  # Whether to preserve aspect ratio with letterboxing (true/false)
